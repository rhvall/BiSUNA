; //
; //  BiSUNAConf.ini
; //  BiSUNAOpenCL
; //
; //  Created by RHVT on 18/7/19.
; //  Copyright Â© 2019 R. All rights reserved.
; //
; //////////////////////////////////////////////////////////
; Licensed to the Apache Software Foundation (ASF) under one
; or more contributor license agreements.  See the NOTICE file
; distributed with this work for additional information
; regarding copyright ownership.  The ASF licenses this file
; to you under the Apache License, Version 2.0 (the
; "License"); you may not use this file except in compliance
; with the License.  You may obtain a copy of the License at
;
;   http://www.apache.org/licenses/LICENSE-2.0
;
; Unless required by applicable law or agreed to in writing,
; software distributed under the License is distributed on an
; "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
; KIND, either express or implied.  See the License for the
; specific language governing permissions and limitations
; under the License.
; //////////////////////////////////////////////////////////


; NOTE!! Some configuration elements have a "---- NOT_SUPPORTED" tag, it means that
; currently, their values do not affect execution, however, code is in place for
; future versions to use them.


; Basic BiSUNA configuration file
;-------------------------------------------------------
[General]
;---- NOT_SUPPORTED
; Enable/Disable binary neurons. When false, it will use floating point weights
Binary = true

;---- NOT_SUPPORTED
; This constant helps to keep track of the ushort indexing values if for some reason another type is
; used, it should be changed accordingly, for example, if it changes to "int", OUT_INDEX should be
; considered to be "-1"
OutIndex = 65535


;This value defines the execution type, which could be OpenCL or Thread. Each should have its own section
;ExecutionType = OpenCL
ExecutionType = Thread

; For how many generations this execution will take place
Generations = 100000


;-------------------------------------------------------
[Population]
; Iterations performed to each new agent when the population is created. It only affects initialization
NumberInitialMutations = 200

; This number affects how many changes are going to be performed on agents that are derived from parents
; when the reproduction step stakes place
StepMutations = 5

; Quantity of agents that are grouped as population
PopulationSize = 100

; How many individuals will be considered as "parents" for the next generation, given their "novelty"
; measure, which is the "hamming distance" between agents.
NoveltyMapSize = 20

; The following four elements (add/delete Neuron/Connection) are the probabilities of modifying agents
; in a population every time new selection process takes place. Another consideration is the need to
; sum them up to 1, if that rule is violated, the behavior of new agents is not defined.
; **** Start
; Probability to add a new neuron to agents when performing evolution
ChanceAddNeuron = 0.01

; Probability to delete a current neuron to agents when performing evolution
ChanceDelNeuron = 0.01

; Probability to add a new connection to agents when performing evolution
ChanceAddConnection = 0.49

; Probability to delete a new neuron to agents when performing evolution
ChanceDelConnection = 0.49
; **** End

; The probability of a new neuron to have a neuromodulation effect on other neurons, a value that must
; be between 0 and 1.
ChanceNeuromodulation = 0.1

; The probability of a new neuron to be created directly as the control type, a value that must
; be between 0 and 1.
ChanceControlNeuron = 0.2

; The probability of affecting weights on neuron's connections, a value that must be between 0 and 1.
ChanceWeightMutation = 0.5


;-------------------------------------------------------
[Environment]
; How many trials a single agent will be able to repeat
EpisodesPerAgent = 1

; The name to load/save populations.
BiSUNAFile = bisuna.dat

; Signal the application if the first run should load from a file
LoadFromFile = false

; Signal the application if the first run should load from a file
SaveToFile = false

; Save population every "n" generations, it will have the same "Environment" name, only appending a timestamp
; to when it was saved and the extension as ".dat"
SaveEveryNGenerations = 5000

; What environment name will be used to execute this program and search for the same name section
; inside the configuration file
;EnvironmentName = MountainCar
EnvironmentName = SymmetricEncryption

; Name of the file that contains the values needed to configure that environment
;EnvironmentConf = MountainCar.ini
EnvironmentConf = /Users/rhvt/Dev/BiSUNAOpenCL/results/5bit/SymmetricEncryption.ini

;-------------------------------------------------------
[OpenCL]
; This is the folder where OCL kernel files are located
KernelFolder = Kernels/ ; It need "/" at the end

; At this moment, only one "main" kernel is supported, which should be named here
KernelName = process ; processFPGA

; Define the accelerator type to use
DeviceType = CPU ; CPU (2) / GPU (4) / FPGA (8), in OCL terms FPGA means "Accelerator", (x) is the OCL number used

; This is a list of all OCL files being used. In case it is being compiled for the CPU, all ".cl" code
; must be separated by comma, in case of the FPGA, the aocx file must be provided.
OCLFiles =  CLSupportFunctions.cl,CLNetworkStateKernel.cl ; Use this line if CL files are going to be compiled
;OCLFiles =  CLSupportFunctions.cl,FPGANetSt.cl ; This line to test on CPU/GPU
;OCLFiles =  nsk.aocx ; Use this line if OCL-FPGA is being deployed.

; When enabled, it will set OCL profiling flags and show the time it takes to process/read output data.
OCLProfiling = false

; This tells the kernel if it runs on single task or NDRange, at the moment, only single task is enabled.
SingleTask = false


;-------------------------------------------------------
[Thread]
; How many concurrent threads should be executed in parallel. For optimal work division, consider a
; number that matches the core count in the target machine as well as the divisibility against the
; population size, which internally will be represented as "cells per thread", which is a simple
; population size divided by thread number. Lastly, make sure that the number of environments matches
; the thread count, specially when dealing with external connections like the OpenAI Gym.
ThreadNumber = 8


;---- NOT_SUPPORTED (WHOLE SECTION)
;-------------------------------------------------------
[Continuous]
; Maximum weight value a connection can establish between neurons, also used to compare if an activation
; has exceeded such value to cap it to this
MaxWeight = 2147483647.0

; Signal how much weight can change between evolutionary steps, it works as a multiplier from the initial
; value. For example, if the weight is "2.3", "1" means that the range of values the weight can be modified
; could be between "-2.3 <> 2.3", which is later added to the original. If less than 1 is used, it would
; modify only partially, for example "0.5" would allow a range of only "-1.15 <> 1.15". The same would apply
; to numbers bigger than 1
WeightMutationChangePercentage = 1.0

; The minimum threshold value considered to make a neuron activate
ExcitationThreshold = 0.0

; For those neurons that were not triggered given its interactions and excitation values, this value will
; check if the threshold is larger and should be fired
RemainingNeuronThreshold = 0.001;


;---- NOT_SUPPORTED (WHOLE SECTION)
;-------------------------------------------------------
[Binary]
; Maximum weight value a connection can establish between neurons, also used to compare if an activation
; has exceeded such value to cap it to this
MaxWeight = 65535

; Signal how much weight can change between evolutionary steps, in binary, it works as a 2's exponentiation
; from the initial value. For example, if the weight is "16 (10000)", "1" means that the range of values
; the weight can be modified could be between "8 <> 32", which is later "OR'ed" to the original. For example
; "2" would allow a range of "4 <> 64", then when applied to "16", it would result in "80 (1010000)" or "20 (10100)"
WeightMutationChangePercentage = 1

; Minimum excitation necessary to deactivate a neuron. This constant considers the number of bits an
; excitation neuron must have in order to trigger its actions, which works in complete opposite as its
; Continuous counterpart. Here, if a neuron has more than the value provided, it will be inhibited
ExcitationThreshold = 256

; For those neurons that were not triggered given its interactions and excitation values, this value will
; check if the threshold is larger and should be fired, same as in the continuous case, the different here,
; it needs natural numbers (ushort)
RemainingNeuronThreshold = 15

; How many bits are required to trigger action from a primer, control or threshold neuron
ExcitationThresholdBits = 4

; This represents the half part of all bits in a ushort (16 bits) set to one, it is used by primer, control
; and threshold neurons to check its trigger action
HalfWeight = 255

; Represents the actual mid section of the ushort type, use only in the discretization functions to transform
; between continuous inputs/outputs
MidWeight = 32767


;-------------------------------------------------------
[Debugging]

;---- NOT_SUPPORTED
; This flag will (dis)enable the configuration set for the values establish in this section
EnableDebug = false

;---- NOT_SUPPORTED
; This will output more information about the current execution apart from what it already exposes in the console
EnableLogging = false

; To replicate environments, establish a set random seed.
RandomSeed = 42
